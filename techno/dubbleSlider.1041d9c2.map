{"version":3,"sources":["assets/JS/dubbleSlider.js"],"names":["dubleSlider","sliderElem","document","querySelector","thumbMin","thumbMax","bar","minPriceInput","maxPriceInput","sliderCoords","getCoords","rangeEnd","offsetWidth","barWidth","min","parseInt","getComputedStyle","left","max","devider","value","onmousedown","e","thumbCoords","shiftX","pageX","onmousemove","newLeft","style","marginLeft","width","deltaBar","onmouseup","ondragstart","elem","box","getBoundingClientRect","top","pageYOffset","pageXOffset","onchange","preventDefault","leftChange","console","log","rightChange"],"mappings":"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","file":"dubbleSlider.1041d9c2.map","sourceRoot":"..\\src","sourcesContent":["function dubleSlider() {\r\n  const sliderElem = document.querySelector(\".scale\");\r\n  const thumbMin = document.querySelector(\".toggle-min\");\r\n  const thumbMax = document.querySelector(\".toggle-max\");\r\n  const bar = document.querySelector(\".bar\");\r\n  const minPriceInput = document.querySelector(\".min_price--input\");\r\n  const maxPriceInput = document.querySelector(\".max_price--input\");\r\n  let sliderCoords = getCoords(sliderElem);\r\n  let rangeEnd = sliderElem.offsetWidth - thumbMin.offsetWidth;\r\n  let barWidth = bar.offsetWidth;\r\n\r\n  let min = parseInt(getComputedStyle(thumbMin).left);\r\n  let max = parseInt(getComputedStyle(thumbMax).left);\r\n\r\n  const devider = maxPriceInput.value / max;\r\n\r\n  thumbMin.onmousedown = function(e) {\r\n    let thumbCoords = getCoords(thumbMin);\r\n    let shiftX = e.pageX - thumbCoords.left;\r\n\r\n    document.onmousemove = function(e) {\r\n      let newLeft = e.pageX - shiftX - sliderCoords.left;\r\n\r\n      //если вне слайдера\r\n      if (newLeft < 0) {\r\n        newLeft = 0;\r\n      }\r\n\r\n      if (newLeft > max - thumbMin.offsetWidth / 2) {\r\n        newLeft = max - thumbMin.offsetWidth / 2;\r\n      }\r\n\r\n      min = newLeft;\r\n\r\n      thumbMin.style.left = newLeft + \"px\";\r\n      bar.style.marginLeft = min + \"px\";\r\n      bar.style.width = deltaBar() + \"px\";\r\n      minPriceInput.value = parseInt(devider * min);\r\n    };\r\n\r\n    document.onmouseup = function() {\r\n      document.onmousemove = document.onmouseup = null;\r\n    };\r\n\r\n    return false;\r\n  };\r\n\r\n  thumbMax.onmousedown = function(e) {\r\n    let thumbCoords = getCoords(thumbMax);\r\n    let shiftX = e.pageX - thumbCoords.left;\r\n\r\n    document.onmousemove = function(e) {\r\n      let newLeft = e.pageX - shiftX - sliderCoords.left;\r\n\r\n      //если вне слайдера\r\n      if (newLeft < min + thumbMin.offsetWidth / 2) {\r\n        newLeft = min + thumbMin.offsetWidth / 2;\r\n      }\r\n\r\n      if (newLeft > rangeEnd) {\r\n        newLeft = rangeEnd;\r\n      }\r\n      max = newLeft;\r\n      thumbMax.style.left = newLeft + \"px\";\r\n      bar.style.width = deltaBar() + \"px\";\r\n      maxPriceInput.value = parseInt(devider * max);\r\n    };\r\n\r\n    document.onmouseup = function() {\r\n      document.onmousemove = document.onmouseup = null;\r\n    };\r\n\r\n    return false;\r\n  };\r\n\r\n  thumbMin.ondragstart = function() {\r\n    return false;\r\n  };\r\n\r\n  function getCoords(elem) {\r\n    let box = elem.getBoundingClientRect();\r\n\r\n    return {\r\n      top: box.top + pageYOffset,\r\n      left: box.left + pageXOffset\r\n    };\r\n  }\r\n\r\n  let deltaBar = () => {\r\n    return getCoords(thumbMax).left - getCoords(thumbMin).left;\r\n  };\r\n\r\n  minPriceInput.onchange = e => {\r\n    e.preventDefault();\r\n    const leftChange = parseInt(minPriceInput.value / devider);\r\n    thumbMin.style.left = leftChange + \"px\";\r\n    bar.style.marginLeft = leftChange + \"px\";\r\n    bar.style.width = deltaBar() + \"px\";\r\n    console.log(\"value\", minPriceInput.value);\r\n  };\r\n\r\n  maxPriceInput.onchange = e => {\r\n    e.preventDefault();\r\n    const rightChange = parseInt(maxPriceInput.value / devider);\r\n    thumbMax.style.left = rightChange + \"px\";\r\n    bar.style.width = deltaBar() + \"px\";\r\n  };\r\n}\r\n\r\ndubleSlider();\r\n"]}